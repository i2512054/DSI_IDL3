{{ template "header" . }}
<h1>Productos</h1>
<div class="hstack gap-3 mb-4 mt-4">
  <a class="btn btn-dark" href="/products/new"><i class="fas fa-plus me-2"></i>Agregar</a>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th><th>Categoría</th><th>Nombre</th><th>Descripción</th><th>Stock</th><th>Creado</th><th>Acciones</th>
    </tr>
  </thead>
  <tbody>
  {{ range .products }}
    <tr>
      <td>{{ .ID }}</td>
      <td>{{ .CategoryId }}</td>
      <td>{{ .Name }}</td>
      <td>{{ .Description }}</td>
      <td>{{ .Stock }}</td>
      <td>{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</td>
      <td>
        <a href="/products/show/{{ .ID }}" class="btn btn-sm btn-primary">Ver</a>
        <a href="/products/edit/{{ .ID }}" class="btn btn-sm btn-secondary">Editar</a>
        <form method="post" action="/products/delete/{{ .ID }}" style="display:inline">
          <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Eliminar?')">Eliminar</button>
        </form>
      </td>
    </tr>
  {{ else }}
    <tr><td colspan="5">No hay Productos</td></tr>
  {{ end }}
  </tbody>
</table>

{{ template "footer" . }}
